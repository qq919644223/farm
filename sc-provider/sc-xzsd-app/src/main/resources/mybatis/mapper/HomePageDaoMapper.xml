<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.xzsd.app.homePage.dao.HomePageDao">
    <!--查询轮播图-->
    <select id="getPictureShow" resultType="com.xzsd.app.homePage.entity.HomePageInfo">
        select
        show_image_url imagePath,
        goods_code goodsCode
        from t_picture_show
        where is_deleted = 0
        and show_state = 1
        order by sort_no asc
    </select>
    <!--查询展示数量-->
    <select id="getShowNumber" resultType="int">
        select show_no
        from t_dictionary
        where type = 4
        and is_deleted = 0
    </select>
    <!--查询热门商品-->
    <select id="getHotVillage" parameterType="int" resultType="com.xzsd.app.homePage.entity.HomePageInfo">
        select
        b.village_code villageCode,
        a.village_name villageName,
        a.image_code imagePath
        from
        t_village a,
        t_hot_village b
        where b.is_deleted = 0
        and a.is_deleted = 0
        and b.village_code = a.village_code
        order by hot_id asc limit #{showNumber}
    </select>
</mapper>